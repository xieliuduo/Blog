"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};(function(){function t(t,e){return t.set(e[0],e[1]),t}function e(t,e){return t.add(e),t}function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function i(t,e,n,i){for(var o=-1,r=null==t?0:t.length;++o<r;){var s=t[o];e(i,s,n(s),t)}return i}function o(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}function r(t,e){for(var n=-1,i=null==t?0:t.length,o=0,r=[];++n<i;){var s=t[n];e(s,n,t)&&(r[o++]=s)}return r}function s(t,e){return!!(null==t?0:t.length)&&h(t,e,0)>-1}function a(t,e){for(var n=-1,i=null==t?0:t.length,o=Array(i);++n<i;)o[n]=e(t[n],n,t);return o}function u(t,e){for(var n=-1,i=e.length,o=t.length;++n<i;)t[o+n]=e[n];return t}function c(t,e,n,i){var o=-1,r=null==t?0:t.length;for(i&&r&&(n=t[++o]);++o<r;)n=e(n,t[o],o,t);return n}function l(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function p(t){return t.split("")}function f(t,e,n,i){for(var o=t.length,r=n+(i?1:-1);i?r--:++r<o;)if(e(t[r],r,t))return r;return-1}function h(t,e,n){return e===e?j(t,e,n):f(t,_,n)}function _(t){return t!==t}function d(t){return function(e){return null==e?ln:e[t]}}function m(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].c;return t}function g(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function v(t){return function(e){return t(e)}}function b(t,e){return a(e,function(e){return t[e]})}function y(t,e){return t.has(e)}function w(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}function O(t,e){return null==t?ln:t[e]}function S(t){return Gi.test(t)}function k(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function T(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}function C(t,e){return function(n){return t(e(n))}}function E(t,e){for(var n=-1,i=t.length,o=0,r=[];++n<i;){var s=t[n];s!==e&&s!==dn||(t[n]=dn,r[o++]=n)}return r}function I(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function j(t,e,n){for(var i=n-1,o=t.length;++i<o;)if(t[i]===e)return i;return-1}function $(t){return S(t)?z(t):p(t)}function z(t){return t.match(Hi)||[]}function x(t){if(Je(t)&&!_r(t)&&!(t instanceof A)){if(t instanceof D)return t;if(po.call(t,"__wrapped__"))return Ie(t)}return new D(t)}function W(){}function D(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=ln}function A(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ln,this.__views__=[]}function R(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function N(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function L(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function M(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new L;++e<n;)this.add(t[e])}function P(t){this.size=(this.__data__=new N(t)).size}function B(t,e){var n=_r(t),i=!n&&hr(t),o=!n&&!i&&dr(t),r=!n&&!i&&!o&&mr(t),s=n||i||o||r,a=s?g(t.length,String):[],u=a.length;for(var c in t)!e&&!po.call(t,c)||s&&("length"==c||o&&("offset"==c||"parent"==c)||r&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||le(c,u))||a.push(c);return a}function J(t,e,n){var i=t[e];po.call(t,e)&&Ne(i,n)&&(n!==ln||e in t)||G(t,e,n)}function V(t,e){for(var n=t.length;n--;)if(Ne(t[n][0],e))return n;return-1}function U(t,e,n,i){return Zo(t,function(t,o,r){e(i,t,n(t),r)}),i}function Y(t,e){return t&&Lt(e,qe(e),t)}function H(t,e){return t&&Lt(e,Ze(e),t)}function G(t,e,n){"__proto__"==e&&Io?Io(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function K(t,e){for(var n=-1,i=e.length,o=Array(i),r=null==t;++n<i;)o[n]=r?ln:Fe(t,e[n]);return o}function X(t,e,n,i,r,s){var a,u=e&mn,c=e&gn,l=e&vn;if(n&&(a=r?n(t,i,r,s):n(t)),a!==ln)return a;if(!Be(t))return t;var p=_r(t);if(p){if(a=re(t),!u)return Nt(t,a)}else{var f=sr(t),h=f==Hn||f==Gn;if(dr(t))return Tt(t,u);if(f==Qn||f==Pn||h&&!r){if(a=c||h?{}:se(t),!u)return c?Pt(t,H(a,t)):Mt(t,Y(a,t))}else{if(!Xi[f])return r?t:{};a=ae(t,f,X,u)}}s||(s=new P);var _=s.get(t);if(_)return _;s.set(t,a);var d=l?c?Kt:Gt:c?Ze:qe,m=p?ln:d(t);return o(m||t,function(i,o){m&&(o=i,i=t[o]),J(a,o,X(i,e,n,o,t,s))}),a}function F(t,e){var n=[];return Zo(t,function(t,i,o){e(t,i,o)&&n.push(t)}),n}function Q(t,e,n,i,o){var r=-1,s=t.length;for(n||(n=ce),o||(o=[]);++r<s;){var a=t[r];e>0&&n(a)?e>1?Q(a,e-1,n,i,o):u(o,a):i||(o[o.length]=a)}return o}function q(t,e){return t&&tr(t,e,qe)}function Z(t,e){return r(e,function(e){return Me(t[e])})}function tt(t,e){for(var n=0,i=(e=St(e,t)).length;null!=t&&n<i;)t=t[Te(e[n++])];return n&&n==i?t:ln}function et(t,e,n){var i=e(t);return _r(t)?i:u(i,n(t))}function nt(t){return null==t?t===ln?oi:Fn:Eo&&Eo in Object(t)?ee(t):be(t)}function it(t,e){return null!=t&&e in Object(t)}function ot(t,e,i){var o=null==(t=we(t,e=St(e,t)))?t:t[Te(ze(e))];return null==o?ln:n(o,t,i)}function rt(t){return Je(t)&&nt(t)==Pn}function st(t,e,n,i,o){return t===e||(null==t||null==e||!Je(t)&&!Je(e)?t!==t&&e!==e:at(t,e,n,i,st,o))}function at(t,e,n,i,o,r){var s=_r(t),a=_r(e),u=s?Bn:sr(t),c=a?Bn:sr(e),l=(u=u==Pn?Qn:u)==Qn,p=(c=c==Pn?Qn:c)==Qn,f=u==c;if(f&&dr(t)){if(!dr(e))return!1;s=!0,l=!1}if(f&&!l)return r||(r=new P),s||mr(t)?Ut(t,e,n,i,o,r):Yt(t,e,u,n,i,o,r);if(!(n&bn)){var h=l&&po.call(t,"__wrapped__"),_=p&&po.call(e,"__wrapped__");if(h||_){var d=h?t.value():t,m=_?e.value():e;return r||(r=new P),o(d,m,n,i,r)}}return!!f&&(r||(r=new P),Ht(t,e,n,i,o,r))}function ut(t,e,n,i){var o=n.length,r=o,s=!i;if(null==t)return!r;for(t=Object(t);o--;){var a=n[o];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++o<r;){var u=(a=n[o])[0],c=t[u],l=a[1];if(s&&a[2]){if(c===ln&&!(u in t))return!1}else{var p=new P;if(i)var f=i(c,l,u,t,e,p);if(!(f===ln?st(l,c,bn|yn,i,p):f))return!1}}return!0}function ct(t){return!(!Be(t)||_e(t))&&(Me(t)?mo:$i).test(Ce(t))}function lt(t){return"function"==typeof t?t:null==t?nn:"object"==(void 0===t?"undefined":_typeof(t))?_r(t)?dt(t[0],t[1]):_t(t):an(t)}function pt(t){if(!de(t))return zo(t);var e=[];for(var n in Object(t))po.call(t,n)&&"constructor"!=n&&e.push(n);return e}function ft(t){if(!Be(t))return ve(t);var e=de(t),n=[];for(var i in t)("constructor"!=i||!e&&po.call(t,i))&&n.push(i);return n}function ht(t,e){var n=-1,i=Le(t)?Array(t.length):[];return Zo(t,function(t,o,r){i[++n]=e(t,o,r)}),i}function _t(t){var e=Zt(t);return 1==e.length&&e[0][2]?ge(e[0][0],e[0][1]):function(n){return n===t||ut(n,t,e)}}function dt(t,e){return pe(t)&&me(e)?ge(Te(t),e):function(n){var i=Fe(n,t);return i===ln&&i===e?Qe(n,t):st(e,i,bn|yn)}}function mt(t,e,n){var i=-1;return e=a(e.length?e:[nn],v(Qt())),m(ht(t,function(t,n,o){return{a:a(e,function(e){return e(t)}),b:++i,c:t}}),function(t,e){return Dt(t,e,n)})}function gt(t,e,n){for(var i=-1,o=e.length,r={};++i<o;){var s=e[i],a=tt(t,s);n(a,s)&&bt(r,St(s,t),a)}return r}function vt(t){return function(e){return tt(e,t)}}function bt(t,e,n,i){if(!Be(t))return t;for(var o=-1,r=(e=St(e,t)).length,s=r-1,a=t;null!=a&&++o<r;){var u=Te(e[o]),c=n;if(o!=s){var l=a[u];(c=i?i(l,u,a):ln)===ln&&(c=Be(l)?l:le(e[o+1])?[]:{})}J(a,u,c),a=a[u]}return t}function yt(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var r=Array(o);++i<o;)r[i]=t[i+e];return r}function wt(t){if("string"==typeof t)return t;if(_r(t))return a(t,wt)+"";if(Ue(t))return Qo?Qo.call(t):"";var e=t+"";return"0"==e&&1/t==-Dn?"-0":e}function Ot(t,e){var n=t;return n instanceof A&&(n=n.value()),c(e,function(t,e){return e.func.apply(e.thisArg,u([t],e.args))},n)}function St(t,e){return _r(t)?t:pe(t,e)?[t]:cr(Xe(t))}function kt(t,e,n){var i=t.length;return n=n===ln?i:n,!e&&n>=i?t:yt(t,e,n)}function Tt(t,e){if(e)return t.slice();var n=t.length,i=yo?yo(n):new t.constructor(n);return t.copy(i),i}function Ct(t){var e=new t.constructor(t.byteLength);return new bo(e).set(new bo(t)),e}function Et(t,e){return new t.constructor(e?Ct(t.buffer):t.buffer,t.byteOffset,t.byteLength)}function It(e,n,i){return c(n?i(T(e),mn):T(e),t,new e.constructor)}function jt(t){var e=new t.constructor(t.source,Ei.exec(t));return e.lastIndex=t.lastIndex,e}function $t(t,n,i){return c(n?i(I(t),mn):I(t),e,new t.constructor)}function zt(t){return Fo?Object(Fo.call(t)):{}}function xt(t,e){return new t.constructor(e?Ct(t.buffer):t.buffer,t.byteOffset,t.length)}function Wt(t,e){if(t!==e){var n=t!==ln,i=null===t,o=t===t,r=Ue(t),s=e!==ln,a=null===e,u=e===e,c=Ue(e);if(!a&&!c&&!r&&t>e||r&&s&&u&&!a&&!c||i&&s&&u||!n&&u||!o)return 1;if(!i&&!r&&!c&&t<e||c&&n&&o&&!i&&!r||a&&n&&o||!s&&o||!u)return-1}return 0}function Dt(t,e,n){for(var i=-1,o=t.a,r=e.a,s=o.length,a=n.length;++i<s;){var u=Wt(o[i],r[i]);if(u)return i>=a?u:u*("desc"==n[i]?-1:1)}return t.b-e.b}function At(t,e,n,i){for(var o=-1,r=t.length,s=n.length,a=-1,u=e.length,c=xo(r-s,0),l=Array(u+c),p=!i;++a<u;)l[a]=e[a];for(;++o<s;)(p||o<r)&&(l[n[o]]=t[o]);for(;c--;)l[a++]=t[o++];return l}function Rt(t,e,n,i){for(var o=-1,r=t.length,s=-1,a=n.length,u=-1,c=e.length,l=xo(r-a,0),p=Array(l+c),f=!i;++o<l;)p[o]=t[o];for(var h=o;++u<c;)p[h+u]=e[u];for(;++s<a;)(f||o<r)&&(p[h+n[s]]=t[o++]);return p}function Nt(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}function Lt(t,e,n,i){var o=!n;n||(n={});for(var r=-1,s=e.length;++r<s;){var a=e[r],u=i?i(n[a],t[a],a,n,t):ln;u===ln&&(u=t[a]),o?G(n,a,u):J(n,a,u)}return n}function Mt(t,e){return Lt(t,or(t),e)}function Pt(t,e){return Lt(t,rr(t),e)}function Bt(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=qo(t.prototype),i=t.apply(n,e);return Be(i)?i:n}}function Jt(t,e,n,i,o,r,s,a,u,c){function l(){for(var g=arguments.length,v=Array(g),b=g;b--;)v[b]=arguments[b];if(_)var y=Ft(l),O=w(v,y);if(i&&(v=At(v,i,o,_)),r&&(v=Rt(v,r,s,_)),g-=O,_&&g<c)return Vt(t,e,Jt,l.placeholder,n,v,E(v,y),a,u,c-g);var S=f?n:this,k=h?S[t]:t;return g=v.length,a?v=Oe(v,a):d&&g>1&&v.reverse(),p&&u<g&&(v.length=u),this&&this!==Zi&&this instanceof l&&(k=m||Bt(k)),k.apply(S,v)}var p=e&In,f=e&wn,h=e&On,_=e&(kn|Tn),d=e&jn,m=h?ln:Bt(t);return l}function Vt(t,e,n,i,o,r,s,a,u,c){var l=e&kn,p=l?s:ln,f=l?ln:s,h=l?r:ln,_=l?ln:r;e|=l?Cn:En,(e&=~(l?En:Cn))&Sn||(e&=~(wn|On));var d=[t,e,o,h,p,_,f,a,u,c],m=n.apply(ln,d);return he(t)&&ar(m,d),m.placeholder=i,Se(m,t,e)}function Ut(t,e,n,i,o,r){var s=n&bn,a=t.length,u=e.length;if(a!=u&&!(s&&u>a))return!1;var c=r.get(t);if(c&&r.get(e))return c==e;var p=-1,f=!0,h=n&yn?new M:ln;for(r.set(t,e),r.set(e,t);++p<a;){var _=t[p],d=e[p];if(i)var m=s?i(d,_,p,e,t,r):i(_,d,p,t,e,r);if(m!==ln){if(m)continue;f=!1;break}if(h){if(!l(e,function(t,e){if(!y(h,e)&&(_===t||o(_,t,n,i,r)))return h.push(e)})){f=!1;break}}else if(_!==d&&!o(_,d,n,i,r)){f=!1;break}}return r.delete(t),r.delete(e),f}function Yt(t,e,n,i,o,r,s){switch(n){case ai:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case si:return!(t.byteLength!=e.byteLength||!r(new bo(t),new bo(e)));case Vn:case Un:case Xn:return Ne(+t,+e);case Yn:return t.name==e.name&&t.message==e.message;case ti:case ni:return t==e+"";case Kn:var a=T;case ei:var u=i&bn;if(a||(a=I),t.size!=e.size&&!u)return!1;var c=s.get(t);if(c)return c==e;i|=yn,s.set(t,e);var l=Ut(a(t),a(e),i,o,r,s);return s.delete(t),l;case ii:if(Fo)return Fo.call(t)==Fo.call(e)}return!1}function Ht(t,e,n,i,o,r){var s=n&bn,a=Gt(t),u=a.length;if(u!=Gt(e).length&&!s)return!1;for(var c=u;c--;){var l=a[c];if(!(s?l in e:po.call(e,l)))return!1}var p=r.get(t);if(p&&r.get(e))return p==e;var f=!0;r.set(t,e),r.set(e,t);for(var h=s;++c<u;){var _=t[l=a[c]],d=e[l];if(i)var m=s?i(d,_,l,e,t,r):i(_,d,l,t,e,r);if(!(m===ln?_===d||o(_,d,n,i,r):m)){f=!1;break}h||(h="constructor"==l)}if(f&&!h){var g=t.constructor,v=e.constructor;g!=v&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof v&&v instanceof v)&&(f=!1)}return r.delete(t),r.delete(e),f}function Gt(t){return et(t,qe,or)}function Kt(t){return et(t,Ze,rr)}function Xt(t){for(var e=t.name+"",n=Vo[e],i=po.call(Vo,e)?n.length:0;i--;){var o=n[i],r=o.func;if(null==r||r==t)return o.name}return e}function Ft(t){return(po.call(x,"placeholder")?x:t).placeholder}function Qt(){var t=x.iteratee||on;return t=t===on?lt:t,arguments.length?t(arguments[0],arguments[1]):t}function qt(t,e){var n=t.__data__;return fe(e)?n["string"==typeof e?"string":"hash"]:n.map}function Zt(t){for(var e=qe(t),n=e.length;n--;){var i=e[n],o=t[i];e[n]=[i,o,me(o)]}return e}function te(t,e){var n=O(t,e);return ct(n)?n:ln}function ee(t){var e=po.call(t,Eo),n=t[Eo];try{t[Eo]=ln;var i=!0}catch(t){}var o=_o.call(t);return i&&(e?t[Eo]=n:delete t[Eo]),o}function ne(t,e,n){for(var i=-1,o=n.length;++i<o;){var r=n[i],s=r.size;switch(r.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=Wo(e,t+s);break;case"takeRight":t=xo(t,e-s)}}return{start:t,end:e}}function ie(t){var e=t.match(ki);return e?e[1].split(Ti):[]}function oe(t,e,n){for(var i=-1,o=(e=St(e,t)).length,r=!1;++i<o;){var s=Te(e[i]);if(!(r=null!=t&&n(t,s)))break;t=t[s]}return r||++i!=o?r:!!(o=null==t?0:t.length)&&Pe(o)&&le(s,o)&&(_r(t)||hr(t))}function re(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&po.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function se(t){return"function"!=typeof t.constructor||de(t)?{}:qo(wo(t))}function ae(t,e,n,i){var o=t.constructor;switch(e){case si:return Ct(t);case Vn:case Un:return new o(+t);case ai:return Et(t,i);case ui:case ci:case li:case pi:case fi:case hi:case _i:case di:case mi:return xt(t,i);case Kn:return It(t,i,n);case Xn:case ni:return new o(t);case ti:return jt(t);case ei:return $t(t,i,n);case ii:return zt(t)}}function ue(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(Si,"{\n/* [wrapped with "+e+"] */\n")}function ce(t){return _r(t)||hr(t)||!!(To&&t&&t[To])}function le(t,e){return!!(e=null==e?An:e)&&("number"==typeof t||xi.test(t))&&t>-1&&t%1==0&&t<e}function pe(t,e){if(_r(t))return!1;var n=void 0===t?"undefined":_typeof(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ue(t))||vi.test(t)||!gi.test(t)||null!=e&&t in Object(e)}function fe(t){var e=void 0===t?"undefined":_typeof(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function he(t){var e=Xt(t),n=x[e];if("function"!=typeof n||!(e in A.prototype))return!1;if(t===n)return!0;var i=ir(n);return!!i&&t===i[0]}function _e(t){return!!ho&&ho in t}function de(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||uo)}function me(t){return t===t&&!Be(t)}function ge(t,e){return function(n){return null!=n&&n[t]===e&&(e!==ln||t in Object(n))}}function ve(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}function be(t){return _o.call(t)}function ye(t,e,i){return e=xo(e===ln?t.length-1:e,0),function(){for(var o=arguments,r=-1,s=xo(o.length-e,0),a=Array(s);++r<s;)a[r]=o[e+r];r=-1;for(var u=Array(e+1);++r<e;)u[r]=o[r];return u[e]=i(a),n(t,this,u)}}function we(t,e){return e.length<2?t:tt(t,yt(e,0,-1))}function Oe(t,e){for(var n=t.length,i=Wo(e.length,n),o=Nt(t);i--;){var r=e[i];t[i]=le(r,n)?o[r]:ln}return t}function Se(t,e,n){var i=e+"";return ur(t,ue(i,Ee(ie(i),n)))}function ke(t){var e=0,n=0;return function(){var i=Do(),o=zn-(i-n);if(n=i,o>0){if(++e>=$n)return arguments[0]}else e=0;return t.apply(ln,arguments)}}function Te(t){if("string"==typeof t||Ue(t))return t;var e=t+"";return"0"==e&&1/t==-Dn?"-0":e}function Ce(t){if(null!=t){try{return lo.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Ee(t,e){return o(Mn,function(n){var i="_."+n[0];e&n[1]&&!s(t,i)&&t.push(i)}),t.sort()}function Ie(t){if(t instanceof A)return t.clone();var e=new D(t.__wrapped__,t.__chain__);return e.__actions__=Nt(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function je(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var o=null==n?0:Ge(n);return o<0&&(o=xo(i+o,0)),f(t,Qt(e,3),o)}function $e(t){return(null==t?0:t.length)?Q(t,1):[]}function ze(t){var e=null==t?0:t.length;return e?t[e-1]:ln}function xe(t){return null==t?t:Ao.call(t)}function We(t){var e=x(t);return e.__chain__=!0,e}function De(t,e){return e(t)}function Ae(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(fn);var n=function n(){var i=arguments,o=e?e.apply(this,i):i[0],r=n.cache;if(r.has(o))return r.get(o);var s=t.apply(this,i);return n.cache=r.set(o,s)||r,s};return n.cache=new(Ae.Cache||L),n}function Re(t){if("function"!=typeof t)throw new TypeError(fn);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Ne(t,e){return t===e||t!==t&&e!==e}function Le(t){return null!=t&&Pe(t.length)&&!Me(t)}function Me(t){if(!Be(t))return!1;var e=nt(t);return e==Hn||e==Gn||e==Jn||e==Zn}function Pe(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=An}function Be(t){var e=void 0===t?"undefined":_typeof(t);return null!=t&&("object"==e||"function"==e)}function Je(t){return null!=t&&"object"==(void 0===t?"undefined":_typeof(t))}function Ve(t){return"string"==typeof t||!_r(t)&&Je(t)&&nt(t)==ni}function Ue(t){return"symbol"==(void 0===t?"undefined":_typeof(t))||Je(t)&&nt(t)==ii}function Ye(t){if(!t)return[];if(Le(t))return Ve(t)?$(t):Nt(t);if(Co&&t[Co])return k(t[Co]());var e=sr(t);return(e==Kn?T:e==ei?I:tn)(t)}function He(t){return t?(t=Ke(t))===Dn||t===-Dn?(t<0?-1:1)*Rn:t===t?t:0:0===t?t:0}function Ge(t){var e=He(t),n=e%1;return e===e?n?e-n:e:0}function Ke(t){if("number"==typeof t)return t;if(Ue(t))return Nn;if(Be(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Be(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Oi,"");var n=ji.test(t);return n||zi.test(t)?Fi(t.slice(2),n?2:8):Ii.test(t)?Nn:+t}function Xe(t){return null==t?"":wt(t)}function Fe(t,e,n){var i=null==t?ln:tt(t,e);return i===ln?n:i}function Qe(t,e){return null!=t&&oe(t,e,it)}function qe(t){return Le(t)?B(t):pt(t)}function Ze(t){return Le(t)?B(t,!0):ft(t)}function tn(t){return null==t?[]:b(t,qe(t))}function en(t){return function(){return t}}function nn(t){return t}function on(t){return lt("function"==typeof t?t:X(t,mn))}function rn(t,e,n){var i=qe(e),r=Z(e,i);null!=n||Be(e)&&(r.length||!i.length)||(n=e,e=t,t=this,r=Z(e,qe(e)));var s=!(Be(n)&&"chain"in n&&!n.chain),a=Me(t);return o(r,function(n){var i=e[n];t[n]=i,a&&(t.prototype[n]=function(){var e=this.__chain__;if(s||e){var n=t(this.__wrapped__);return(n.__actions__=Nt(this.__actions__)).push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,u([this.value()],arguments))})}),t}function sn(){}function an(t){return pe(t)?d(Te(t)):vt(t)}function un(){return[]}function cn(){return!1}var ln,pn=200,fn="Expected a function",hn="__lodash_hash_undefined__",_n=500,dn="__lodash_placeholder__",mn=1,gn=2,vn=4,bn=1,yn=2,wn=1,On=2,Sn=4,kn=8,Tn=16,Cn=32,En=64,In=128,jn=512,$n=800,zn=16,xn=1,Wn=2,Dn=1/0,An=9007199254740991,Rn=1.7976931348623157e308,Nn=NaN,Ln=4294967295,Mn=[["ary",In],["bind",wn],["bindKey",On],["curry",kn],["curryRight",Tn],["flip",jn],["partial",Cn],["partialRight",En],["rearg",256]],Pn="[object Arguments]",Bn="[object Array]",Jn="[object AsyncFunction]",Vn="[object Boolean]",Un="[object Date]",Yn="[object Error]",Hn="[object Function]",Gn="[object GeneratorFunction]",Kn="[object Map]",Xn="[object Number]",Fn="[object Null]",Qn="[object Object]",qn="[object Promise]",Zn="[object Proxy]",ti="[object RegExp]",ei="[object Set]",ni="[object String]",ii="[object Symbol]",oi="[object Undefined]",ri="[object WeakMap]",si="[object ArrayBuffer]",ai="[object DataView]",ui="[object Float32Array]",ci="[object Float64Array]",li="[object Int8Array]",pi="[object Int16Array]",fi="[object Int32Array]",hi="[object Uint8Array]",_i="[object Uint8ClampedArray]",di="[object Uint16Array]",mi="[object Uint32Array]",gi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vi=/^\w*$/,bi=/^\./,yi=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wi=/[\\^$.*+?()[\]{}|]/g,Oi=/^\s+|\s+$/g,Si=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ki=/\{\n\/\* \[wrapped with (.+)\] \*/,Ti=/,? & /,Ci=/\\(\\)?/g,Ei=/\w*$/,Ii=/^[-+]0x[0-9a-f]+$/i,ji=/^0b[01]+$/i,$i=/^\[object .+?Constructor\]$/,zi=/^0o[0-7]+$/i,xi=/^(?:0|[1-9]\d*)$/,Wi="\\ud800-\\udfff",Di="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ai="\\ufe0e\\ufe0f",Ri="["+Di+"]",Ni="\\ud83c[\\udffb-\\udfff]",Li="[^"+Wi+"]",Mi="(?:\\ud83c[\\udde6-\\uddff]){2}",Pi="[\\ud800-\\udbff][\\udc00-\\udfff]",Bi="\\u200d",Ji="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",Vi="["+Ai+"]?",Ui=Vi+Ji+("(?:"+Bi+"(?:"+[Li,Mi,Pi].join("|")+")"+Vi+Ji+")*"),Yi="(?:"+[Li+Ri+"?",Ri,Mi,Pi,"[\\ud800-\\udfff]"].join("|")+")",Hi=RegExp(Ni+"(?="+Ni+")|"+Yi+Ui,"g"),Gi=RegExp("["+Bi+Wi+Di+Ai+"]"),Ki={};Ki[ui]=Ki[ci]=Ki[li]=Ki[pi]=Ki[fi]=Ki[hi]=Ki[_i]=Ki[di]=Ki[mi]=!0,Ki[Pn]=Ki[Bn]=Ki[si]=Ki[Vn]=Ki[ai]=Ki[Un]=Ki[Yn]=Ki[Hn]=Ki[Kn]=Ki[Xn]=Ki[Qn]=Ki[ti]=Ki[ei]=Ki[ni]=Ki[ri]=!1;var Xi={};Xi[Pn]=Xi[Bn]=Xi[si]=Xi[ai]=Xi[Vn]=Xi[Un]=Xi[ui]=Xi[ci]=Xi[li]=Xi[pi]=Xi[fi]=Xi[Kn]=Xi[Xn]=Xi[Qn]=Xi[ti]=Xi[ei]=Xi[ni]=Xi[ii]=Xi[hi]=Xi[_i]=Xi[di]=Xi[mi]=!0,Xi[Yn]=Xi[Hn]=Xi[ri]=!1;var Fi=parseInt,Qi="object"==("undefined"==typeof global?"undefined":_typeof(global))&&global&&global.Object===Object&&global,qi="object"==("undefined"==typeof self?"undefined":_typeof(self))&&self&&self.Object===Object&&self,Zi=Qi||qi||Function("return this")(),to="object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&exports&&!exports.nodeType&&exports,eo=to&&"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module&&!module.nodeType&&module,no=eo&&eo.exports===to,io=no&&Qi.process,oo=function(){try{return io&&io.binding&&io.binding("util")}catch(t){}}(),ro=oo&&oo.isTypedArray,so=Array.prototype,ao=Function.prototype,uo=Object.prototype,co=Zi["__core-js_shared__"],lo=ao.toString,po=uo.hasOwnProperty,fo=0,ho=function(){var t=/[^.]+$/.exec(co&&co.keys&&co.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),_o=uo.toString,mo=RegExp("^"+lo.call(po).replace(wi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),go=no?Zi.Buffer:ln,vo=Zi.Symbol,bo=Zi.Uint8Array,yo=go?go.allocUnsafe:ln,wo=C(Object.getPrototypeOf,Object),Oo=Object.create,So=uo.propertyIsEnumerable,ko=so.splice,To=vo?vo.isConcatSpreadable:ln,Co=vo?vo.iterator:ln,Eo=vo?vo.toStringTag:ln,Io=function(){try{var t=te(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),jo=Object.getOwnPropertySymbols,$o=go?go.isBuffer:ln,zo=C(Object.keys,Object),xo=Math.max,Wo=Math.min,Do=Date.now,Ao=so.reverse,Ro=te(Zi,"DataView"),No=te(Zi,"Map"),Lo=te(Zi,"Promise"),Mo=te(Zi,"Set"),Po=te(Zi,"WeakMap"),Bo=te(Object,"create"),Jo=Po&&new Po,Vo={},Uo=Ce(Ro),Yo=Ce(No),Ho=Ce(Lo),Go=Ce(Mo),Ko=Ce(Po),Xo=vo?vo.prototype:ln,Fo=Xo?Xo.valueOf:ln,Qo=Xo?Xo.toString:ln,qo=function(){function t(){}return function(e){if(!Be(e))return{};if(Oo)return Oo(e);t.prototype=e;var n=new t;return t.prototype=ln,n}}();x.prototype=W.prototype,x.prototype.constructor=x,D.prototype=qo(W.prototype),D.prototype.constructor=D,A.prototype=qo(W.prototype),A.prototype.constructor=A,R.prototype.clear=function(){this.__data__=Bo?Bo(null):{},this.size=0},R.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},R.prototype.get=function(t){var e=this.__data__;if(Bo){var n=e[t];return n===hn?ln:n}return po.call(e,t)?e[t]:ln},R.prototype.has=function(t){var e=this.__data__;return Bo?e[t]!==ln:po.call(e,t)},R.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Bo&&e===ln?hn:e,this},N.prototype.clear=function(){this.__data__=[],this.size=0},N.prototype.delete=function(t){var e=this.__data__,n=V(e,t);return!(n<0||(n==e.length-1?e.pop():ko.call(e,n,1),--this.size,0))},N.prototype.get=function(t){var e=this.__data__,n=V(e,t);return n<0?ln:e[n][1]},N.prototype.has=function(t){return V(this.__data__,t)>-1},N.prototype.set=function(t,e){var n=this.__data__,i=V(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this},L.prototype.clear=function(){this.size=0,this.__data__={hash:new R,map:new(No||N),string:new R}},L.prototype.delete=function(t){var e=qt(this,t).delete(t);return this.size-=e?1:0,e},L.prototype.get=function(t){return qt(this,t).get(t)},L.prototype.has=function(t){return qt(this,t).has(t)},L.prototype.set=function(t,e){var n=qt(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this},M.prototype.add=M.prototype.push=function(t){return this.__data__.set(t,hn),this},M.prototype.has=function(t){return this.__data__.has(t)},P.prototype.clear=function(){this.__data__=new N,this.size=0},P.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},P.prototype.get=function(t){return this.__data__.get(t)},P.prototype.has=function(t){return this.__data__.has(t)},P.prototype.set=function(t,e){var n=this.__data__;if(n instanceof N){var i=n.__data__;if(!No||i.length<pn-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new L(i)}return n.set(t,e),this.size=n.size,this};var Zo=function(t,e){return function(n,i){if(null==n)return n;if(!Le(n))return t(n,i);for(var o=n.length,r=e?o:-1,s=Object(n);(e?r--:++r<o)&&!1!==i(s[r],r,s););return n}}(q),tr=function(t){return function(e,n,i){for(var o=-1,r=Object(e),s=i(e),a=s.length;a--;){var u=s[t?a:++o];if(!1===n(r[u],u,r))break}return e}}(),er=Jo?function(t,e){return Jo.set(t,e),t}:nn,nr=Io?function(t,e){return Io(t,"toString",{configurable:!0,enumerable:!1,value:en(e),writable:!0})}:nn,ir=Jo?function(t){return Jo.get(t)}:sn,or=jo?function(t){return null==t?[]:(t=Object(t),r(jo(t),function(e){return So.call(t,e)}))}:un,rr=jo?function(t){for(var e=[];t;)u(e,or(t)),t=wo(t);return e}:un,sr=nt;(Ro&&sr(new Ro(new ArrayBuffer(1)))!=ai||No&&sr(new No)!=Kn||Lo&&sr(Lo.resolve())!=qn||Mo&&sr(new Mo)!=ei||Po&&sr(new Po)!=ri)&&(sr=function(t){var e=nt(t),n=e==Qn?t.constructor:ln,i=n?Ce(n):"";if(i)switch(i){case Uo:return ai;case Yo:return Kn;case Ho:return qn;case Go:return ei;case Ko:return ri}return e});var ar=ke(er),ur=ke(nr),cr=function(t){var e=Ae(t,function(t){return n.size===_n&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return bi.test(t)&&e.push(""),t.replace(yi,function(t,n,i,o){e.push(i?o.replace(Ci,"$1"):n||t)}),e}),lr=(function(t){ur(ye(t,ln,$e),t+"")}(function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,o=function(e){return K(e,t)};return!(e>1||this.__actions__.length)&&i instanceof A&&le(n)?((i=i.slice(n,+n+(e?1:0))).__actions__.push({func:De,args:[o],thisArg:ln}),new D(i,this.__chain__).thru(function(t){return e&&!t.length&&t.push(ln),t})):this.thru(o)}),function(t){return function(e,n,i){var o=Object(e);if(!Le(e)){var r=Qt(n,3);e=qe(e),n=function(t){return r(o[t],t,o)}}var s=t(e,n,i);return s>-1?o[r?e[s]:s]:ln}}(je)),pr=function(t,e){return function(n,o){var r=_r(n)?i:U,s=e?e():{};return r(n,t,Qt(o,2),s)}}(function(t,e,n){po.call(t,n)?t[n].push(e):G(t,n,[e])}),fr=function(){return Zi.Date.now()};Ae.Cache=L;var hr=rt(function(){return arguments}())?rt:function(t){return Je(t)&&po.call(t,"callee")&&!So.call(t,"callee")},_r=Array.isArray,dr=$o||cn,mr=ro?v(ro):function(t){return Je(t)&&Pe(t.length)&&!!Ki[nt(t)]},gr=function(t){return function(e){var n=S(e=Xe(e))?$(e):ln,i=n?n[0]:e.charAt(0),o=n?kt(n,1).join(""):e.slice(1);return i[t]()+o}}("toUpperCase");x.chain=We,x.concat=function(){var t=arguments.length;if(!t)return[];for(var e=Array(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return u(_r(n)?Nt(n):[n],Q(e,1))},x.constant=en,x.debounce=function(t,e,n){function i(e){var n=l,i=p;return l=p=ln,m=e,h=t.apply(i,n)}function o(t){return m=t,_=setTimeout(a,e),g?i(t):h}function r(t){var n=t-m,i=e-(t-d);return v?Wo(i,f-n):i}function s(t){var n=t-d,i=t-m;return d===ln||n>=e||n<0||v&&i>=f}function a(){var t=fr();return s(t)?u(t):(_=setTimeout(a,r(t)),ln)}function u(t){return _=ln,b&&l?i(t):(l=p=ln,h)}function c(){var t=fr(),n=s(t);if(l=arguments,p=this,d=t,n){if(_===ln)return o(d);if(v)return _=setTimeout(a,e),i(d)}return _===ln&&(_=setTimeout(a,e)),h}var l,p,f,h,_,d,m=0,g=!1,v=!1,b=!0;if("function"!=typeof t)throw new TypeError(fn);return e=Ke(e)||0,Be(n)&&(g=!!n.leading,v="maxWait"in n,f=v?xo(Ke(n.maxWait)||0,e):f,b="trailing"in n?!!n.trailing:b),c.cancel=function(){_!==ln&&clearTimeout(_),m=0,l=d=p=_=ln},c.flush=function(){return _===ln?h:u(fr())},c},x.filter=function(t,e){return(_r(t)?r:F)(t,Qt(e,3))},x.flatten=$e,x.groupBy=pr,x.iteratee=on,x.keys=qe,x.keysIn=Ze,x.map=function(t,e){return(_r(t)?a:ht)(t,Qt(e,3))},x.mapValues=function(t,e){var n={};return e=Qt(e,3),q(t,function(t,i,o){G(n,i,e(t,i,o))}),n},x.memoize=Ae,x.mixin=rn,x.negate=Re,x.orderBy=function(t,e,n,i){return null==t?[]:(_r(e)||(e=null==e?[]:[e]),n=i?ln:n,_r(n)||(n=null==n?[]:[n]),mt(t,e,n))},x.pickBy=function(t,e){if(null==t)return{};var n=a(Kt(t),function(t){return[t]});return e=Qt(e),gt(t,n,function(t,n){return e(t,n[0])})},x.property=an,x.reverse=xe,x.tap=function(t,e){return e(t),t},x.thru=De,x.toArray=Ye,x.values=tn,rn(x,x),x.capitalize=function(t){return gr(Xe(t).toLowerCase())},x.eq=Ne,x.find=lr,x.findIndex=je,x.get=Fe,x.hasIn=Qe,x.identity=nn,x.isArguments=hr,x.isArray=_r,x.isArrayLike=Le,x.isBuffer=dr,x.isFunction=Me,x.isLength=Pe,x.isObject=Be,x.isObjectLike=Je,x.isString=Ve,x.isSymbol=Ue,x.isTypedArray=mr,x.last=ze,x.stubArray=un,x.stubFalse=cn,x.noop=sn,x.now=fr,x.replace=function(){var t=arguments,e=Xe(t[0]);return t.length<3?e:e.replace(t[1],t[2])},x.toFinite=He,x.toInteger=Ge,x.toNumber=Ke,x.toString=Xe,x.uniqueId=function(t){var e=++fo;return Xe(t)+e},x.upperFirst=gr,rn(x,function(){var t={};return q(x,function(e,n){po.call(x.prototype,n)||(t[n]=e)}),t}(),{chain:!1}),x.VERSION="4.17.4",o(["drop","take"],function(t,e){A.prototype[t]=function(n){n=n===ln?1:xo(Ge(n),0);var i=this.__filtered__&&!e?new A(this):this.clone();return i.__filtered__?i.__takeCount__=Wo(n,i.__takeCount__):i.__views__.push({size:Wo(n,Ln),type:t+(i.__dir__<0?"Right":"")}),i},A.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),o(["filter","map","takeWhile"],function(t,e){var n=e+1,i=n==xn||3==n;A.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Qt(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}}),o(["head","last"],function(t,e){var n="take"+(e?"Right":"");A.prototype[t]=function(){return this[n](1).value()[0]}}),o(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");A.prototype[t]=function(){return this.__filtered__?new A(this):this[n](1)}}),A.prototype.compact=function(){return this.filter(nn)},A.prototype.find=function(t){return this.filter(t).head()},A.prototype.findLast=function(t){return this.reverse().find(t)},A.prototype.invokeMap=function(t,e){return ur(ye(t,e,nn),t+"")}(function(t,e){return"function"==typeof t?new A(this):this.map(function(n){return ot(n,t,e)})}),A.prototype.reject=function(t){return this.filter(Re(Qt(t)))},A.prototype.slice=function(t,e){t=Ge(t);var n=this;return n.__filtered__&&(t>0||e<0)?new A(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==ln&&(e=Ge(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},A.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},A.prototype.toArray=function(){return this.take(Ln)},q(A.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),o=x[i?"take"+("last"==e?"Right":""):e],r=i||/^find/.test(e);o&&(x.prototype[e]=function(){var e=this.__wrapped__,s=i?[1]:arguments,a=e instanceof A,c=s[0],l=a||_r(e),p=function(t){var e=o.apply(x,u([t],s));return i&&f?e[0]:e};l&&n&&"function"==typeof c&&1!=c.length&&(a=l=!1);var f=this.__chain__,h=!!this.__actions__.length,_=r&&!f,d=a&&!h;if(!r&&l){e=d?e:new A(this);var m=t.apply(e,s);return m.__actions__.push({func:De,args:[p],thisArg:ln}),new D(m,f)}return _&&d?t.apply(this,s):(m=this.thru(p),_?i?m.value()[0]:m.value():m)})}),o(["pop","push","shift","sort","splice","unshift"],function(t){var e=so[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);x.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var o=this.value();return e.apply(_r(o)?o:[],t)}return this[n](function(n){return e.apply(_r(n)?n:[],t)})}}),q(A.prototype,function(t,e){var n=x[e];if(n){var i=n.name+"";(Vo[i]||(Vo[i]=[])).push({name:e,func:n})}}),Vo[Jt(ln,On).name]=[{name:"wrapper",func:ln}],A.prototype.clone=function(){var t=new A(this.__wrapped__);return t.__actions__=Nt(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Nt(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Nt(this.__views__),t},A.prototype.reverse=function(){if(this.__filtered__){var t=new A(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t},A.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=_r(t),i=e<0,o=n?t.length:0,r=ne(0,o,this.__views__),s=r.start,a=r.end,u=a-s,c=i?a:s-1,l=this.__iteratees__,p=l.length,f=0,h=Wo(u,this.__takeCount__);if(!n||!i&&o==u&&h==u)return Ot(t,this.__actions__);var _=[];t:for(;u--&&f<h;){for(var d=-1,m=t[c+=e];++d<p;){var g=l[d],v=g.iteratee,b=g.type,y=v(m);if(b==Wn)m=y;else if(!y){if(b==xn)continue t;break t}}_[f++]=m}return _},x.prototype.chain=function(){return We(this)},x.prototype.commit=function(){return new D(this.value(),this.__chain__)},x.prototype.next=function(){this.__values__===ln&&(this.__values__=Ye(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?ln:this.__values__[this.__index__++]}},x.prototype.plant=function(t){for(var e,n=this;n instanceof W;){var i=Ie(n);i.__index__=0,i.__values__=ln,e?o.__wrapped__=i:e=i;var o=i;n=n.__wrapped__}return o.__wrapped__=t,e},x.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof A){var e=t;return this.__actions__.length&&(e=new A(this)),(e=e.reverse()).__actions__.push({func:De,args:[xe],thisArg:ln}),new D(e,this.__chain__)}return this.thru(xe)},x.prototype.toJSON=x.prototype.valueOf=x.prototype.value=function(){return Ot(this.__wrapped__,this.__actions__)},x.prototype.first=x.prototype.head,Co&&(x.prototype[Co]=function(){return this}),"function"==typeof define&&"object"==_typeof(define.amd)&&define.amd?(Zi._=x,define(function(){return x})):eo?((eo.exports=x)._=x,to._=x):Zi._=x}).call(void 0),jQuery,window.$.ptJsThemes={classic:{templateViewContinue:'\n        <div class="step-container" ptjs-id="container">\n          <span class="step-button-close" ptjs-id="button-close" ptjs-data="button-close"></span>\n          <div class="step-header" ptjs-id="header">\n            <div class="title" ptjs-data="title-continue"></div>\n          </div>\n          <div class="step-body" ptjs-id="body">\n            <div class="content" ptjs-data="content-continue"></div>\n          </div>\n          <div class="step-footer" ptjs-id="footer">\n            <div class="step-buttons">\n              <span ptjs-id="button-restart" ptjs-data="button-restart"></span>\n              <span ptjs-id="button-continue" ptjs-data="button-continue"></span>\n            </div>\n          </div>\n        </div>',templateViewMarker:'<span class="step-marker-action"></span>',templateViewWindow:'\n        <div class="step-container" ptjs-id="container">\n          <span class="step-button-close" ptjs-id="button-close" ptjs-data="button-close"></span>\n          <div class="step-header" ptjs-id="header">\n            <div class="title" ptjs-data="title"></div>\n          </div>\n          <div class="step-body" ptjs-id="body">\n            <div ptjs-id="content" class="content" ptjs-data="content"></div>\n          </div>\n          <div class="step-footer" ptjs-id="footer">\n            <span class="step-pagination" ptjs-id="pagination" ptjs-data="pagination"></span>\n            <div class="step-buttons">\n              <span ptjs-id="button-start" ptjs-data="button-start"></span>\n              <span ptjs-id="button-previous" ptjs-data="button-previous"></span>\n              <span ptjs-id="button-next" ptjs-data="button-next"></span>\n              <span ptjs-id="button-end" ptjs-data="button-end"></span>\n            </div>\n          </div>\n        </div>'}},function(t,e,n,i){function o(){}t.extend(o.prototype,{version:"1.1.0",info:{},$body:null,$document:t(n),$window:t(e),$wrapper:{},animate:function(t,e,n){t.addClass("animated "+e).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){t.removeClass("animated "+e),n&&n()})},createDomWrapper:function(e,n){return 0===t("#"+e).length?t("<div>",{id:e}).prependTo(n):t("#"+e)},domExist:function(e){return 0!==t(e).length},getDetails:function(t,e){var n={fullHeight:this.isDocOrWin(t)?t.innerHeight():t.outerHeight(),fullWidth:this.isDocOrWin(t)?t.innerWidth():t.outerWidth(),height:this.roundTo(t.height()),width:t.width()},i={height:t[0].offsetHeight<t[0].scrollHeight,width:t[0].offsetWidth<t[0].scrollWidth},o=this.isDocOrWin(t)?{top:0,left:0}:t.offset(),e=e||0;return{overflow:i,position:{bottom:o.top+n.fullHeight+e,center:o.left+n.fullWidth/2,left:o.left-e,middle:o.top+n.fullHeight/2,right:o.left+n.fullWidth+e,scrollBottom:t.scrollTop()+n.fullHeight,scrollTop:t.scrollTop(),top:o.top-e},size:n}},getExceedPosition:function(t,e){var n=this.getDetails(this.$window),i=this.getDetails(t);return{bottom:i.position.bottom-n.position.scrollTop>=n.size.height-e,left:i.position.left<=e,right:i.position.right>=n.size.width-e,top:i.position.top<=e+n.position.scrollTop}},getStorageItem:function(t){if(this.hasStorage())return localStorage.getItem(t)},hasExceed:function(t,e,n){var i=this.getExceedPosition(t,e);return"x"===n?i.left||i.right:"y"===n?i.bottom||i.top:i.bottom||i.left||i.right||i.top},hasStorage:function(){return"undefined"!=typeof Storage},mergeOptions:function(e,n){return t.extend(!0,{},e||{},n||{})},isDocOrWin:function(e){return t.isWindow(e[0])||e.is(n)},isInViewport:function(t){var e=this.getDetails(this.$window),n=this.getDetails(t.$el),i=e.position.scrollTop,o=i+e.size.height,r=t.extraSize||0,s=n.position.bottom+r,a=n.position.top-r;return{bottom:s<=o&&s>=i,top:a>=i&&a<=o}},removeStorageItem:function(t){this.hasStorage()&&localStorage.removeItem(t)},roundTo:function(t,e){return e=e||1,Math.round(t*e)/e},setStorageItem:function(t,e){this.hasStorage()&&localStorage.setItem(t,e)},scrollTo:function(e,n,o){t("html, body").animate({scrollTop:e},n,i.debounce(function(){o&&o()},0))}});e.$.ptJsCore=(t.data(n,"gmksPtJsCore")||t.data(n,"gmksPtJsCore",new o),t.data(n,"gmksPtJsCore"))}(jQuery,window,document,_);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e,n){var i={ptJs_bounce:{in:"bounceIn",out:"bounceOut"},ptJs_bounceDirection:{in:{b:"bounceInUp",l:"bounceInLeft",r:"bounceInRight",t:"bounceInDown","cb-l":"bounceInLeft","cb-r":"bounceInRight","ct-l":"bounceInLeft","ct-r":"bounceInRight",ml:"bounceInLeft",mr:"bounceInRight",cm:"bounceInDown"},out:{b:"bounceOutDown",l:"bounceOutLeft",r:"bounceOutRight",t:"bounceOutUp","cb-l":"bounceOutLeft","cb-r":"bounceOutRight","ct-l":"bounceOutLeft","ct-r":"bounceOutRight",ml:"bounceOutLeft",mr:"bounceOutRight",cm:"bounceOutUp"}},ptJs_fade:{in:"fadeIn",out:"fadeOut"},ptJs_fadeDirection:{in:{b:"fadeInUp",l:"fadeInLeft",r:"fadeInRight",t:"fadeInDown","cb-l":"fadeInLeft","cb-r":"fadeInRight","ct-l":"fadeInLeft","ct-r":"fadeInRight",ml:"fadeInLeft",mr:"fadeInRight",cm:"fadeInDown"},out:{b:"fadeOutDown",l:"fadeOutLeft",r:"fadeOutRight",t:"fadeOutUp","cb-l":"fadeOutLeft","cb-r":"fadeOutRight","ct-l":"fadeOutLeft","ct-r":"fadeOutRight",ml:"fadeOutLeft",mr:"fadeOutRight",cm:"fadeOutUp"}},ptJs_flipDirection:{in:{b:"flipInX",l:"flipInY",r:"flipInY",t:"flipInX","cb-l":"flipInY","cb-r":"flipInY","ct-l":"flipInY","ct-r":"flipInY",ml:"flipInY",mr:"flipInY",cm:"flipInX"},out:{b:"flipOutX",l:"flipOutY",r:"flipOutY",t:"flipOutX","cb-l":"flipOutY","cb-r":"flipOutY","ct-l":"flipOutY","ct-r":"flipOutY",ml:"flipOutY",mr:"flipOutY",cm:"flipOutX"}},ptJs_lightSpeed:{in:"lightSpeedIn",out:"lightSpeedOut"},ptJs_roll:{in:"rollIn",out:"rollOut"},ptJs_rotate:{in:"rotateIn",out:"rotateOut"},ptJs_slideDirection:{in:{b:"slideInUp",l:"slideInLeft",r:"slideInRight",t:"slideInDown","cb-l":"slideInLeft","cb-r":"slideInRight","ct-l":"slideInLeft","ct-r":"slideInRight",ml:"slideInLeft",mr:"slideInRight",cm:"slideInDown"},out:{b:"slideOutDown",l:"slideOutLeft",r:"slideOutRight",t:"slideOutUp","cb-l":"slideOutLeft","cb-r":"slideOutRight","ct-l":"slideOutLeft","ct-r":"slideOutRight",ml:"slideOutLeft",mr:"slideOutRight",cm:"slideOutUp"}},ptJs_zoom:{in:"zoomIn",out:"zoomOut"},ptJs_zoomDirection:{in:{b:"zoomInUp",l:"zoomInLeft",r:"zoomInRight",t:"zoomInDown","cb-l":"zoomInLeft","cb-r":"zoomInRight","ct-l":"zoomInLeft","ct-r":"zoomInRight",ml:"zoomInLeft",mr:"zoomInRight",cm:"zoomInDown"},out:{b:"zoomOutDown",l:"zoomOutLeft",r:"zoomOutRight",t:"zoomOutUp","cb-l":"zoomOutLeft","cb-r":"zoomOutRight","ct-l":"zoomOutLeft","ct-r":"zoomOutRight",ml:"zoomOutLeft",mr:"zoomOutRight",cm:"zoomOutUp"}}},o=["tl","tc-l","tc","tc-r","tr","ct-r-c","ct-r","ct-r-m","rt","rm-t","rm","rm-b","rb","cb-r-m","cb-r","cb-r-c","br","bc-r","bc","bc-l","bl","cb-l-c","cb-l","cb-l-m","lb","lm-b","lm","lm-t","lt","ct-l-m","ct-l","ct-l-c"];t?(e.widget("gmks.ptJsStep",{version:"1.1.0",options:{animation:{enableOnClose:!1,enableOnOpen:!0,duration:.5,name:["ptJs_fadeDirection"]},autoOpen:!1,display:{markerSwitchTo:"window",mode:"window"},id:null,modal:!1,overlay:{color:"rgba(0, 0, 0, 0.50)",duration:.25,enable:!0,mode:"focus",padding:0},position:{location:"auto",locationMobile:"auto",relocate:!1},scrollToElement:{enable:!1,duration:750},size:{minWidth:200,resizable:!0,width:300},templateClass:{},templateData:{},templateStyle:{},templateViewMarker:"",templateViewWindow:"",theme:"classic",windowMargin:0},_animate:function(e){var n=this,e=e||{};if((this.options.animation.enableOnOpen||e.out)&&(this.options.animation.enableOnClose||!e.out)){var o=e.out?"out":"in",r=this.options.position.location,s="c"===r[0]?r.substring(0,4):"m"===r[0]?r:r[0],a=e.name&&e.name[0]||this.options.animation.name;a.length>0&&(a=a["in"===o?0:a.length-1]),i[a]&&(a="object"===_typeof(i[a][o])?i[a][o][s]:i[a][o]),this._setTriggerEvent("onBeforeAnimate",{direction:o}),t.animate(this._$step,a,function(){n._setTriggerEvent("onAfterAnimate",{direction:o}),e.cb&&e.cb()})}},_beforeCreate:function(){t.$body=e("body")},_bindEvents:function(){this._onDocumentScroll(),this._onWindowResize(),this._onClick()},_create:function(){this._beforeCreate(),this._createDom(),this._bindEvents()},_createDom:function(){this._createDomWrapper(),this._createDomOverlays(),this._createDomStep()},_createDomOverlays:function(){0===e(".ptjs-overlays").length?(this._$overlays=e("<div>",{class:"ptjs-overlays"}).appendTo(t.$wrapper.overlays),e("<div>",{class:"ptjs-overlay top"}).appendTo(this._$overlays),e("<div>",{class:"ptjs-overlay right"}).appendTo(this._$overlays),e("<div>",{class:"ptjs-overlay bottom"}).appendTo(this._$overlays),e("<div>",{class:"ptjs-overlay left"}).appendTo(this._$overlays),e("<div>",{class:"ptjs-overlay full"}).appendTo(this._$overlays)):this._$overlays=e(".ptjs-overlays")},_createDomStep:function(){this._$step=e("<div>",{class:"ptjs-step"+this._getTheme()}).appendTo(t.$wrapper.steps).html(this._gettemplateViewWindow()),this._setTemplateClass(this.options.templateClass),this._setTemplateStyle(this.options.templateStyle),this._setCSS(),this._setCSSArrow(this.options.position.location),this._$stepMarker=e("<div>",{class:"ptjs-step-marker"+this._getTheme()}).appendTo(t.$wrapper.markers).html(this._getTemplateViewMarker())},_createDomWrapper:function(){t.$wrapper.core=t.createDomWrapper("_PTJS_WRAPPER",t.$body),t.$wrapper.overlays=t.createDomWrapper("_PTJS_WRAPPER_OVERLAYS",t.$wrapper.core),t.$wrapper.steps=t.createDomWrapper("_PTJS_WRAPPER_STEPS",t.$wrapper.core),t.$wrapper.markers=t.createDomWrapper("_PTJS_WRAPPER_MARKERS",t.$wrapper.core)},_destroy:function(){this._$step.remove(),this._$stepMarker.remove()},_getLocationDirection:function(){var t=this.options.position.location;return 0===t.indexOf("t")||0===t.indexOf("ct")?"top":0===t.indexOf("b")||0===t.indexOf("cb")?"bottom":0===t.indexOf("l")?"left":0===t.indexOf("r")?"right":void 0},_getStepGuide:function(t){return e("<div>",{class:"ptjs-step-guide"}).css({height:t.size.fullHeight,width:t.size.fullWidth,top:t.position.top,left:t.position.left})},_getTemplateViewMarker:function(){return this._$templateViewMarker=e(this.options.templateViewMarker),this._$templateViewMarker},_gettemplateViewWindow:function(){return this._$templateViewWindow=e(this.options.templateViewWindow),this._setTemplateData(this.options.templateData),this._$templateViewWindow},_getTheme:function(){return" ptjs-theme "+this.options.theme},_hasExceed:function(e,n){return t.hasExceed(e,this.options.windowMargin,n)},_hideOverlay:function(){this._$overlays.hide(),this._$overlays.removeClass("active"),this._$overlays.find("> div").removeAttr("style")},_init:function(){t.isDocOrWin(this.element)&&"auto"===this.options.position.location?this.options.position.location="cm":t.$window.width()<768&&(this.options.position.location=this.options.position.locationMobile),this._stepOriginal={details:t.getDetails(this._$step),options:t.mergeOptions({},this.options)},this._stepInfo={autoLocation:"auto"===this._stepOriginal.options.position.location,currentDisplayMode:this.options.display.mode,isMobile:t.$window.width()<768},this._$step.attr("id","_PTJS_STEP_"+this.options.id),this._$stepMarker.attr("id","_PTJS_STEP_MARKER_"+this.options.id),this.options.autoOpen&&this.open()},_onClick:function(){var t=this;this._$step.on("click",function(t){t.stopPropagation()}),this._$step.find('[ptjs-id*="button"]').on("click",function(i){var o=n.map(e(i.target).attr("ptjs-id").split("-"),function(t){return n.capitalize(t)}).join("");t._stepInfo.lastButtonClicked=o,t._setTriggerEvent("on"+o+"Click",{evt:i})}),this._$stepMarker.on("click",function(e){e.stopPropagation(),t._stepInfo.currentDisplayMode=t.options.display.markerSwitchTo,t._setTriggerEvent("onMarkerClick",{evt:e})}),this._$overlays.on("click",function(e){e.stopPropagation(),t._stepInfo.isOpen&&(t._setTriggerEvent("onOverlayClick",{evt:e}),t.options.modal||t.close({closeOverlay:!0,kill:!0}))})},_onDocumentScroll:function(){var e=this;t.$document.scroll(function(){e._stepInfo.isOpen&&e._scrollTopLastValue!==t.$document.scrollTop()&&(t.$window.trigger("resize"),e._scrollTopLastValue=t.$document.scrollTop())})},_onWindowResize:function(){var e=this;t.$window.on("resize",function(){e._stepInfo.isOpen&&(e.options.overlay.enable&&e._showOverlay(),e._relocate(),e._setPosition()),"marker"===e.options.display.mode&&e._setPosition({stepMarker:e._$stepMarker})})},_open:function(){var e=this,n=t.getDetails(this._$step),i=function(){e._setTriggerEvent("onBeforeOpen"),"window"!==e.options.display.mode&&"window"!==e._stepInfo.currentDisplayMode||(e._$step.show(),e._relocate(),e._setPosition(),e.options.animation.enableOnOpen?e._animate({cb:function(){e._setTriggerEvent("onAfterOpen")}}):e._setTriggerEvent("onAfterOpen")),e._stepInfo.isOpen=!0,t.info.lastIsDocOrWin=t.isDocOrWin(e.element)},o=function(){e.options.overlay.enable?e._showOverlay(function(){i()}):(e._hideOverlay(),i())},r=this._getLocationDirection(),s=t.isInViewport({$el:this.element,extraSize:this._stepInfo.autoLocation?0:n.size.fullHeight});s=this._stepInfo.autoLocation||"marker"===this.options.display.mode||"left"===r||"right"===r?s.top&&s.bottom:s.top&&"top"===r||s.bottom&&"bottom"===r,!this.options.scrollToElement.enable||s||t.isDocOrWin(this.element)?o():(this._hideOverlay(),this._setTriggerEvent("onScrollStart"),this._scrollToElement(function(){e._setTriggerEvent("onScrollEnd"),o()}))},_openMarker:function(){this._$stepMarker.show(),this._relocate(),this._setPosition({stepMarker:this._$stepMarker})},_relocate:function(){var e=this;if(!(!this.options.position.relocate&&(!this._stepInfo.autoLocation||this._stepInfo.autoLocation&&this._stepInfo.isOpen)||t.isDocOrWin(this.element))){var i=t.getDetails(this._$step),r=this._getStepGuide(i);if(this._hasExceed(this._$step)||this._stepInfo.autoLocation){t.getDetails(this.element);var s=t.getDetails(t.$window),a=i.size.width<=this.options.size.minWidth,u=i.size.height<=this.options.size.minHeight,c=[];if(r.prependTo(t.$wrapper.steps),o.forEach(function(n,i){r.css({height:e._stepOriginal.details.size.fullHeight,width:e._stepOriginal.details.size.fullWidth}),e._setPosition({stepGuide:r,dynLocation:n,stopAfterPosition:!0});var o=t.getDetails(r),a=Math.abs(o.position.middle-(s.position.middle+s.position.scrollTop))+Math.abs(o.position.center-s.position.center);c.push({location:n,total:a,exceed:e._hasExceed(r)})}),r.remove(),0===c.length)return;var l=n.findIndex(c,function(t){return t.location===e.options.position.location}),p=c.slice(l),f=c.slice(0,l),h=p.concat(f);if(h=n.filter(h,function(t){return!t.exceed}),this._stepInfo.autoLocation&&(h=n.orderBy(h,["total"])),0===(c=h).length)return;this._stepInfo.autoLocation||(this._stepLocationWorkflow=this._stepLocationWorkflow||[],this._stepLocationWorkflow.push({location:this.options.position.location,width:a?i.size.fullWidth:null,height:u?i.size.fullHeight:null})),this.options.position.location=c[0].location,this._$step.css({right:"auto",bottom:"auto"})}else if(this._stepLocationWorkflow&&this._stepLocationWorkflow.length>0){var _=this._stepLocationWorkflow[this._stepLocationWorkflow.length-1];_.width&&r.css("width",_.width),_.height&&r.css("height",_.height),r.prependTo(t.$wrapper.steps),this._setPosition({stepGuide:r,dynLocation:_.location,stopAfterPosition:!0}),this._hasExceed(r)||(this.options.position.location=_.location,this._stepLocationWorkflow.pop(),this._setPosition({stopAfterPosition:!0})),r.remove()}}},_resize:function(){var n=t.getExceedPosition(this._$step,this.options.windowMargin),i=t.getDetails(this._$step),o=(t.getDetails(t.$document),t.getDetails(t.$window)),r=t.getDetails(this.element),s=this.options.position.location,a={};if(this.options.size.resizable&&(i.size.width>this._stepOriginal.details.size.width?(a.left=this._$step.position.left,a.right="",a.width=this.options.size.width,this._stepInfo.isResizingLeft=!1):((n.left||this._stepInfo.isResizingLeft)&&(a.width="auto",a.left=this.options.windowMargin,n.left=this._stepInfo.isResizingLeft=!0),n.right&&(a.width="auto",a.right=this.options.windowMargin),-1!==["cb-l-c","cb-l-c-m","ct-l-c","ct-l-c-m","lm-c","lm-b-c","lm-t-c","lb-c","lt-c"].indexOf(s)?n.left&&(a.right=o.size.width-(r.position.left+i.size.fullWidth/2)):-1!==["cb-l","cb-l-m","ct-l","ct-l-m","lb","lm","lm-b","lm-t","lt"].indexOf(s)?n.left&&(a.right=o.size.width-r.position.left):-1!==["br","tr","tr-b","tr-m"].indexOf(s)?n.left&&(a.right=o.size.width-r.position.right):-1!==["bc","tc","tc-b","tc-m"].indexOf(s)?n.left&&(a.right=o.size.width-(r.position.center+i.size.fullWidth/2)):-1!==["bc-l-m","bc-l","tc-l","tc-l-m"].indexOf(s)&&n.left&&(a.right=o.size.width-r.position.center))),!e.isEmptyObject(a))return this._$step.css(a),!0},_scrollToElement:function(e){var n=t.getDetails(t.$window),i=t.getDetails(this.element),o=t.getDetails(this._$step),r=n.size.height-i.size.fullHeight,s=i.position.top-r/2,a=i.position.top+n.size.height;if("top"===this._getLocationDirection()){var u=s-(o.size.fullHeight+this.options.windowMargin-r/2);u<s&&(s=u)}else if("bottom"===this._getLocationDirection()){var c=s+i.size.fullHeight+o.size.fullHeight+this.options.windowMargin+r;c>a&&(s+=c-a)}s!==t.info.lastScrollToElementTop?t.scrollTo(s,this.options.scrollToElement.duration,e):e(),t.info.lastScrollToElementTop=s},_setCSSArrow:function(e){-1===o.indexOf(e)||t.isDocOrWin(this.element)||this._$step.removeClass(function(t,e){return(e.match(/(^|\s)step-arrow-\S+/g)||[]).join(" ")}).addClass("step-arrow-"+this._getLocationDirection()).addClass("step-arrow-"+e)},_setCSS:function(){var e=this.options.animation.duration.toString()+"s";this._$step.css({"min-width":this.options.size.minWidth,width:this.options.size.width,"webkit-animation-duration":e,"animation-duration":e}),t.isDocOrWin(this.element)&&this._$step.css("position","fixed")},_setOption:function(e,i){var o=this.options;switch(this._super(e,n.isObject(i)?t.mergeOptions(this.options[e],i):i),e){case"animation":this._setCSS();break;case"position":this._stepOriginal.options.position.location=i.location,this._stepInfo.autoLocation="auto"===this._stepOriginal.options.position.location,this._relocate(),this._setPosition(),this._animate();break;case"size":this._stepOriginal.details.size.width=i.width,this._setCSS(),this._relocate(),this._setPosition();break;case"theme":this._$step.removeClass(o.theme).addClass(i);break;case"templateData":this._setTemplateData(i);break;case"templateClass":this._setTemplateClass(i);break;case"templateStyle":this._setTemplateStyle(i);break;case"templateView":this._$step.html(this._getView()),this._relocate(),this._setPosition(),this._bindEvents()}},_setOptions:function(t){this._super(t)},_setPosition:function(e){var n=t.getDetails(this.element,this.options.overlay.padding),i=(e=e||{}).stepGuide||e.stepMarker||this._$step,o=t.getDetails(i),r=(t.getExceedPosition(i,this.options.windowMargin),e.dynLocation||this.options.position.location),s=n.position.middle-o.size.fullHeight/2,a=n.position.center-o.size.fullWidth/2,u={};e.stepGuide||e.stepMarker||(this._setCSSArrow(r),o=t.getDetails(i)),t.isDocOrWin(this.element)?(i.css({top:"auto",left:"auto",right:"auto",bottom:"auto","margin-left":"auto","margin-top":"auto"}),-1!==["tl","tc","tr"].indexOf(r)?u.top=this.options.windowMargin:-1!==["bl","bc","br"].indexOf(r)?u.bottom=this.options.windowMargin:(u.top="50%",u["margin-top"]=-o.size.fullHeight/2),-1!==["tl","lm","bl"].indexOf(r)?u.left=this.options.windowMargin:-1!==["tr","rm","br"].indexOf(r)?u.right=this.options.windowMargin:(u.left="50%",u["margin-left"]=-o.size.fullWidth/2),i.css(u)):(-1!==["tl","ct-l-c","ct-l","tc","tc-l","tc-r","tr","ct-r-c","ct-r"].indexOf(r)?s=n.position.top-o.size.fullHeight:-1!==["tl-m","ct-l-c-m","tc-m","tc-l-m","tc-r-m","tr-m","ct-r-c-m","ct-r-m","ct-l-m"].indexOf(r)?s=n.position.top-o.size.fullHeight/2:-1!==["tl-b","lt-c","tc-b","tc-l-b","tc-r-b","tr-b","rt-c","rt","lt"].indexOf(r)?s=n.position.top:-1!==["rm","rm-c","rm-l","lm","lm-c","lm-r"].indexOf(r)?s=n.position.middle-o.size.fullHeight/2:-1!==["rm-b","rm-b-c","rm-b-l","lm-b","lm-b-c","lm-b-r"].indexOf(r)?s=n.position.middle:-1!==["rm-t","rm-t-c","rm-t-l","lm-t","lm-t-c","lm-t-r"].indexOf(r)?s=n.position.middle-o.size.fullHeight:-1!==["rb","br-t","rb-c","bc-t","bc-l-t","bc-r-t","bl-t","lb-c","lb"].indexOf(r)?s=n.position.bottom-o.size.fullHeight:-1!==["cb-r-m","br-m","cb-r-c-m","bc-m","bc-l-m","bc-r-m","bl-m","cb-l-c-m","cb-l-m"].indexOf(r)?s=n.position.bottom-o.size.fullHeight/2:-1!==["br","cb-r-c","cb-r","bc","bc-l","bc-r","bl","cb-l-c","cb-l"].indexOf(r)&&(s=n.position.bottom),-1!==["tl","tl-m","tl-b"].indexOf(r)?a=n.position.left:-1!==["ct-l-c","ct-l-c-m","lt-c","cb-l-c","cb-l-c-m","lb-c","lm-c","lm-t-c","lm-b-c"].indexOf(r)?a=n.position.left-o.size.fullWidth/2:-1!==["ct-l","cb-l","lb","cb-l-m","lm","lm-t","lm-b","lt","ct-l-m"].indexOf(r)?a=n.position.left-o.size.fullWidth:-1!==["tc","tc-m","tc-b","bc","bc-m","bc-t"].indexOf(r)?a=n.position.center-o.size.fullWidth/2:-1!==["tc-l","tc-l-m","tc-l-b","bc-l","bc-l-m","bc-l-t"].indexOf(r)?a=n.position.center-o.size.fullWidth:-1!==["tc-r","tc-r-m","tc-r-b","bc-r","bc-r-m","bc-r-t"].indexOf(r)?a=n.position.center:-1!==["tr","tr-m","tr-b","rm-l","rm-t-l","rm-b-l","br","br-m","br-t"].indexOf(r)?a=n.position.right-o.size.fullWidth:-1!==["ct-r-c","ct-r-c-m","rt-c","rm-c","rm-t-c","rm-b-c","cb-r-c","cb-r-c-m","rb-c"].indexOf(r)?a=n.position.right-o.size.fullWidth/2:-1!==["rt","ct-r-m","rm","rm-t","rm-b","rb","cb-r-m","cb-r","ct-r"].indexOf(r)?a=n.position.right:-1!==["bl","bl-m","bl-t","lm-r","lm-t-r","lm-b-r"].indexOf(r)&&(a=n.position.left),i.css({left:a,top:s}),e.stopAfterPosition||e.stepGuide||e.stepMarker||!this.options.size.resizable||!this._resize()||this._setPosition({stopAfterPosition:!0}))},_setTemplateData:function(t){var e=this;n.keys(t).forEach(function(n){e._$templateViewWindow.find('[ptjs-data="'+n+'"]').html(t[n]),e._$templateViewWindow.find('[ptjs-src="'+n+'"]').attr("src",t[n])})},_setTemplateClass:function(t){var e=this;n.keys(t).forEach(function(i){var o="root"===i?e._$templateViewWindow.parent():"container"===i?e._$templateViewWindow:e._$templateViewWindow.find('[ptjs-id="'+i+'"]'),r=o.attr("class")?o.attr("class").split(" "):[],s=n.concat(r,t[i]);o.removeAttr("class").attr("class",s.join(" "))})},_setTemplateStyle:function(t){var e=this;n.keys(t).forEach(function(n){("root"===n?e._$templateViewWindow.parent():"container"===n?e._$templateViewWindow:e._$templateViewWindow.find('[ptjs-id="'+n+'"]')).css(t[n])})},_setTriggerEvent:function(e,n){var n=t.mergeOptions(this.info(),n);this._trigger(e,null,n)},_showOverlay:function(e){var n=t.getDetails(this.element),i=this._$overlays.find(".top"),o=this._$overlays.find(".right"),r=this._$overlays.find(".bottom"),s=this._$overlays.find(".left"),a=this._$overlays.find(".full"),u=t.info.lastIsDocOrWin===t.isDocOrWin(this.element)?this.options.overlay.duration:0,c="all "+u+"s linear",l=this._stepInfo.isMobile?100:0,p={left:n.position.left-this.options.overlay.padding,top:0,height:n.position.top-this.options.overlay.padding-t.$document.scrollTop(),width:t.$window.width()-n.position.left+this.options.overlay.padding,"background-color":this.options.overlay.color,transition:c,"-webkit-transition":c},f={left:n.position.right+this.options.overlay.padding,top:n.position.top-this.options.overlay.padding-t.$document.scrollTop(),height:t.$window.height()-n.position.top+this.options.overlay.padding+t.$document.scrollTop()+l,width:t.$window.width()-n.position.right-this.options.overlay.padding,"background-color":this.options.overlay.color,transition:c,"-webkit-transition":c},h={left:0,top:n.position.bottom+this.options.overlay.padding-t.$document.scrollTop(),height:t.$window.height()-n.position.bottom-this.options.overlay.padding+t.$document.scrollTop()+l,width:n.position.right+this.options.overlay.padding,"background-color":this.options.overlay.color,transition:c,"-webkit-transition":c},_={top:0,left:0,height:n.position.bottom+this.options.overlay.padding-t.$document.scrollTop(),width:n.position.left-this.options.overlay.padding,"background-color":this.options.overlay.color,transition:c,"-webkit-transition":c};if(e?this._$overlays.show():(p.transition="",p["-webkit-transition"]="",f.transition="",f["-webkit-transition"]="",h.transition="",h["-webkit-transition"]="",_.transition="",_["-webkit-transition"]=""),"focus"!==this.options.overlay.mode||t.isDocOrWin(this.element))this._$overlays.addClass("full").removeClass("active"),a.css({top:0,left:0,right:0,bottom:0,"background-color":this.options.overlay.color}),e&&e();else{var d="webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",m=!1,g=t.roundTo(i.width())===t.roundTo(p.width)&&t.roundTo(r.width())===t.roundTo(h.width)&&t.roundTo(o.width())===t.roundTo(f.width)&&t.roundTo(s.width())===t.roundTo(_.width)&&t.roundTo(i.height())===t.roundTo(p.height)&&t.roundTo(r.height())===t.roundTo(h.height)&&t.roundTo(o.height())===t.roundTo(f.height)&&t.roundTo(s.height())===t.roundTo(_.height);i.css(p),r.css(h),o.css(f),s.off(d).one(d,function(){e&&!m&&(m=!0,e())}).css(_),(0===u||g||this._$overlays.hasClass("full"))&&e&&e(),this._$overlays.addClass("active").removeClass("full")}},close:function(t){var e=this;if(this._stepInfo.isOpen){var n=(t=t||{}).kill?{kill:!0}:{};this._stepInfo.isOpen=!1,this._stepInfo.windowClicked=!1,this._stepInfo.currentDisplayMode=this.options.display.mode,this.options.animation.enableOnClose?(this._setTriggerEvent("onBeforeClose",n),this._animate({out:!0,cb:function(){e._$step.hide(),t.closeOverlay&&e._hideOverlay(),e._setTriggerEvent("onAfterClose",n)}})):(this._setTriggerEvent("onBeforeClose",n),this._$step.hide(),t.closeOverlay&&this._hideOverlay(),this._setTriggerEvent("onAfterClose",n))}},info:function(){return{$element:this.element,isOpen:this._stepInfo.isOpen,lastButtonClicked:this._stepInfo.lastButtonClicked,$step:this._$step,$stepMarker:this._$stepMarker}},open:function(){this._stepInfo.isOpen||("marker"===this.options.display.mode&&"marker"===this._stepInfo.currentDisplayMode?this._openMarker():this._open())}}),window.$.ptJsStep=e.gmks.ptJsStep):console.log("!!! ptJsCore is undefined !!! This plugin is mandatory to run ptJsStep.")}($.ptJsCore,jQuery,_),function(t,e,n,i,o){t&&e?(i.widget("gmks.ptJs",{version:"1.1.0",options:{animation:{enableOnClose:!1,enableOnOpen:!0,duration:.5,name:["ptJs_fadeDirection"]},autoDestroy:!0,autoStart:!1,autoStartOnce:!1,continueEnable:!1,display:{markerSwitchTo:"window",markerShowOnce:!1,mode:"window"},keyboardNavigation:!0,instanceName:"",modal:!1,overlay:{color:"rgba(0, 0, 0, 0.50)",duration:.25,enable:!0,mode:"focus",padding:5},position:{location:"auto",locationMobile:"auto",relocate:!1},scrollDuration:750,showButtonClose:!0,size:{minWidth:150,resizable:!0,width:300},steps:[],startAt:0,templateClass:{},templateData:{"button-close":"x","button-continue":"continue","button-end":"end","button-next":"next","button-previous":"previous","button-restart":"restart","button-start":"start",content:"PageTour.js: Makes your website easier and guides your users","content-continue":'Click "continue" to continue the tour or click "restart" to restart the tour from the beginning.',title:"PageTour.js","title-continue":"Continue the Tour ?"},templateStyle:{},templateViewMarker:"",templateViewContinue:"",templateViewWindow:"",theme:"classic",windowMargin:20},_beforeCreate:function(){var e=this;this.options.steps=o.filter(this.options.steps,function(e){return t.domExist(e.el)});var n=o.chain(this.options.steps).groupBy(function(t){return t.el}).mapValues(function(t){return t.length}).pickBy(function(t){return t>1}).valueOf(),i=[];this._elementStepsWidgetName=[],this.options.steps.forEach(function(t,o){n[t.el]?(i[t.el]||(i[t.el]=[]),e._elementStepsWidgetName[o]="ptJsStep"+e._getInstanceName()+"_"+i[t.el].length,i[t.el].push(".")):e._elementStepsWidgetName[o]="ptJsStep"+e._getInstanceName()})},_bindEvents:function(){this.options.keyboardNavigation&&this._onKey()},_create:function(){this.options.templateViewContinue||this._setOption("templateViewContinue",n[this.options.theme].templateViewContinue),this.options.templateViewMarker||this._setOption("templateViewMarker",n[this.options.theme].templateViewMarker),this.options.templateViewWindow||this._setOption("templateViewWindow",n[this.options.theme].templateViewWindow),this._info={currentStepIdx:0,STORAGE_KEY_STEP_AUTOSTART_ONCE:"step-autostart-once"+this._getInstanceName(),STORAGE_KEY_STEP_CONTINUE_INDEX:"step-continue-index"+this._getInstanceName()},this._beforeCreate(),this._createSteps(),this.options.continueEnable&&this._createStepContinue(),this._bindEvents()},_createStep:function(e,n,r){var s=this,a={};"window"===this.options.display.mode?(a.container=["ptjs-display-step"],a.pagination=["ptjs-active"],0===n&&r>0&&(a["button-start"]=["ptjs-active"]),n>0&&n<=r&&(a["button-previous"]=["ptjs-active"]),n>0&&n<r&&(a["button-next"]=["ptjs-active"]),n===r&&(a["button-end"]=["ptjs-active"]),this.options.showButtonClose&&(a["button-close"]=["ptjs-active"])):a={"button-close":["ptjs-active"],container:["ptjs-display-marker"]},a=t.mergeOptions(this.options.templateClass,a),a=t.mergeOptions(a,e.templateClass),"ptJsStep"!==this._elementStepsWidgetName[n]&&i.widget("gmks."+this._elementStepsWidgetName[n],i.gmks.ptJsStep,{});var u=i(e.el)[this._elementStepsWidgetName[n]]({animation:t.mergeOptions(this.options.animation,e.animation),autoOpen:!1,display:this.options.display,id:n,modal:"marker"!==this.options.display.mode&&(e.modal||this.options.modal),overlay:t.mergeOptions(this.options.overlay,e.overlay),position:e.position||this.options.position,scrollToElement:{enable:!0,duration:this.options.scrollDuration},size:e.size||this.options.size,templateData:t.mergeOptions(this.options.templateData,e.templateData),templateClass:a,templateStyle:t.mergeOptions(this.options.templateStyle,e.templateStyle),templateViewMarker:e.templateViewMarker||this.options.templateViewMarker,templateViewWindow:e.templateViewWindow||this.options.templateViewWindow,theme:e.theme||this.options.theme,windowMargin:this.options.windowMargin,onAfterAnimate:function(t,e){s._setTriggerEvent("onAfterAnimate")},onAfterClose:function(t,e){switch(s._setTriggerEvent("onAfterClose"),e.kill&&(e.lastButtonClicked=null),s._info.lastButtonClicked||e.lastButtonClicked){case"ButtonStart":case"ButtonNext":s._displayStep("next");break;case"ButtonPrevious":s._displayStep("previous");break;default:s._setTriggerEvent("onDestroy"),s.options.autoDestroy&&i(document)["ptJs"+s._getInstanceName()]("destroy")}s._info.lastButtonClicked=null,"marker"!==s.options.display.mode||s.options.display.markerShowOnce||e.$stepMarker.show()},onAfterOpen:function(t,e){s._setTriggerEvent("onAfterOpen")},onBeforeAnimate:function(t,e){s._setTriggerEvent("onBeforeAnimate")},onBeforeClose:function(t,e){s._setTriggerEvent("onBeforeClose")},onBeforeOpen:function(e,o){"window"===s.options.display.mode&&(i(e.target)[s._elementStepsWidgetName[n]]("option","templateData",{pagination:s.info().index+1+"/"+s.info().total}),s.options.continueEnable&&t.setStorageItem(s._info.STORAGE_KEY_STEP_CONTINUE_INDEX,s.info().index)),s._info.isStepContinue=!1,s._setTriggerEvent("onBeforeOpen")},onButtonCloseClick:function(t,e){s._setTriggerEvent("onButtonCloseClick",{evt:e.evt}),i(t.target)[s._elementStepsWidgetName[n]]("close",{closeOverlay:!0})},onButtonEndClick:function(e,o){s._setTriggerEvent("onButtonEndClick",{evt:o.evt}),i(e.target)[s._elementStepsWidgetName[n]]("close",{closeOverlay:!0}),t.removeStorageItem(s._info.STORAGE_KEY_STEP_CONTINUE_INDEX)},onButtonNextClick:function(t,e){s._setTriggerEvent("onButtonNextClick",{evt:e.evt}),i(t.target)[s._elementStepsWidgetName[n]]("close")},onButtonPreviousClick:function(t,e){s._setTriggerEvent("onButtonPreviousClick",{evt:e.evt}),i(t.target)[s._elementStepsWidgetName[n]]("close")},onButtonStartClick:function(t,e){s._setTriggerEvent("onButtonStartClick",{evt:e.evt}),i(t.target)[s._elementStepsWidgetName[n]]("close")},onMarkerClick:function(t,e){s._info.currentStepIdx=s._getIndexByStepID(e.$step.attr("id")),e.$stepMarker.hide(),i(t.target)[s._elementStepsWidgetName[s._info.currentStepIdx]]("open"),s._setTriggerEvent("onMarkerClick",{evt:e.evt})},onOverlayClick:function(t,e){s._setTriggerEvent("onOverlayClick",{evt:e.evt})},onScrollEnd:function(t,e){s._setTriggerEvent("onScrollEnd")},onScrollStart:function(t,e){s._setTriggerEvent("onScrollStart")},onWindowClick:function(t,e){s._setTriggerEvent("onWindowClick",{evt:e.evt})}});return u[this._elementStepsWidgetName[n]]("info").$step.find('[ptjs-id*="button"][ptjs-id!="button-start"][ptjs-id!="button-previous"][ptjs-id!="button-next"][ptjs-id!="button-end"][ptjs-id!="button-close"]').each(function(t,e){var n=o.map(i(e).attr("ptjs-id").split("-"),function(t){return o.capitalize(t)}).join(""),r="ptjsstepon"+n.toLowerCase()+"click";u.off(r).on(r,function(t,e){s._setTriggerEvent("on"+n+"Click",{evt:e.evt})})}),u},_createStepContinue:function(e){var n=this,o={"button-continue":["ptjs-active"],"button-restart":["ptjs-active"]},r=this.options.position;r.location="cm",this.options.showButtonClose&&(o["button-close"]=["ptjs-active"]),i.widget("gmks.ptJsStepContinue"+this._getInstanceName(),i.gmks.ptJsStep,{}),this._stepContinue=i(document)["ptJsStepContinue"+this._getInstanceName()]({animation:this.options.animation,autoOpen:!1,id:this.options.steps.length,modal:this.options.modal,overlay:this.options.overlay,position:r,size:this.options.size,templateData:this.options.templateData,templateClass:t.mergeOptions(o,this.options.templateClass),templateStyle:this.options.templateStyle,templateViewWindow:this.options.templateViewContinue,theme:this.options.theme,onAfterAnimate:function(t,e){n._setTriggerEvent("onAfterAnimate")},onAfterClose:function(t,e){e.lastButtonClicked&&"ButtonClose"!==e.lastButtonClicked?(n._setTriggerEvent("onAfterClose"),n._displayStep()):n.options.autoDestroy&&(n._setTriggerEvent("onDestroy"),i(document)["ptJs"+n._getInstanceName()]("destroy"))},onAfterOpen:function(t,e){n._setTriggerEvent("onAfterOpen")},onBeforeAnimate:function(t,e){n._setTriggerEvent("onBeforeAnimate")},onBeforeClose:function(t,e){n._setTriggerEvent("onBeforeClose")},onBeforeOpen:function(t,e){n._info.isStepContinue=!0,n._setTriggerEvent("onBeforeOpen")},onButtonCloseClick:function(t,e){n._setTriggerEvent("onButtonCloseClick",{evt:e.evt}),i(t.target)["ptJsStepContinue"+n._getInstanceName()]("close",{closeOverlay:!0})},onButtonContinueClick:function(e,o){n._info.currentStepIdx=parseInt(t.getStorageItem(n._info.STORAGE_KEY_STEP_CONTINUE_INDEX)),n._setTriggerEvent("onButtonContinueClick",{evt:o.evt}),i(e.target)["ptJsStepContinue"+n._getInstanceName()]("close")},onButtonRestartClick:function(e,o){n._info.currentStepIdx=0,t.removeStorageItem(n._info.STORAGE_KEY_STEP_CONTINUE_INDEX),i(e.target)["ptJsStepContinue"+n._getInstanceName()]("close",{evt:o.evt})},onOverlayClick:function(t,e){n._setTriggerEvent("onOverlayClick",{evt:e.evt})},onWindowClick:function(t,e){n._setTriggerEvent("onWindowClick",{evt:e.evt})}})},_createSteps:function(){var t=this;this._steps=[],this.options.steps.forEach(function(e,n){t._steps.push(t._createStep(e,n,t.options.steps.length-1))})},_destroy:function(){var e=this;this._steps.forEach(function(t,n){t[e._elementStepsWidgetName[n]]("destroy")});try{i(document)["ptJsStepContinue"+this._getInstanceName()]("destroy")}catch(t){}0===t.$wrapper.steps.find(".ptjs-step").length&&t.$wrapper.core.remove()},_displayStep:function(t){t&&("next"===t?this._info.currentStepIdx++:this._info.currentStepIdx--),this._getCurrentStep()[this._getCurrentElementStepWidgetName()]("open")},_displayStepContinue:function(){this._stepContinue["ptJsStepContinue"+this._getInstanceName()]("open")},_displaySteps:function(){var t=this;this._steps.forEach(function(e,n){e[t._elementStepsWidgetName[n]]("open")})},_getIndexByStepID:function(t){var e=this;return o.findIndex(this._steps,function(n,i){return t===n[e._elementStepsWidgetName[i]]("info").$step.attr("id")})},_getCurrentStep:function(){return this._steps[this._info.currentStepIdx]},_getCurrentElementStepWidgetName:function(){return this._elementStepsWidgetName[this._info.currentStepIdx]},_getInstanceName:function(){return this.options.instanceName?"-"+this.options.instanceName:""},_helper:function(){var t=this;return{isStepOpened:function(){return o.find(t._steps,function(e,n){return e[t._elementStepsWidgetName[n]]("info").isOpen})}}},_init:function(){this.options.autoStart&&(!this.options.autoStartOnce||this.options.autoStartOnce&&!t.getStorageItem(this._info.STORAGE_KEY_STEP_AUTOSTART_ONCE))&&this.start(),this.options.autoStart&&this.options.autoStartOnce&&t.setStorageItem(this._info.STORAGE_KEY_STEP_AUTOSTART_ONCE,!0)},_onKey:function(){var t=this;i(document).off("keydown").keydown(function(e){switch(e.which){case 37:case 38:t.info().index>0&&t.previous();break;case 39:case 40:t.info().isLast?t.end():t.next()}})},_setOption:function(e,n){this._super(e,o.isObject(n)?t.mergeOptions(this.options[e],n):n)},_setOptions:function(t){this._super(t)},_setTriggerEvent:function(e,n){var n=t.mergeOptions(this.info(),n);this._trigger(e,null,n)},_start:function(){if(this._setTriggerEvent("onStart"),"marker"===this.options.display.mode)this._displaySteps();else{var e=parseInt(t.getStorageItem(this._info.STORAGE_KEY_STEP_CONTINUE_INDEX));this.options.continueEnable&&e>0?this._displayStepContinue():(this._info.currentStepIdx=this.options.startAt,this._displayStep())}},end:function(){this._getCurrentStep()[this._getCurrentElementStepWidgetName()]("close",{closeOverlay:!0,kill:!0})},info:function(){return{index:this._info.currentStepIdx,isLast:this._info.currentStepIdx===this._steps.length-1,isStepContinue:this._info.isStepContinue,step:this._info.isStepContinue?this._stepContinue:this._getCurrentStep(),steps:this._steps,total:this._steps.length}},next:function(){this._info.lastButtonClicked="ButtonNext",this._getCurrentStep()[this._getCurrentElementStepWidgetName()]("close")},previous:function(){this._info.lastButtonClicked="ButtonPrevious",this._getCurrentStep()[this._getCurrentElementStepWidgetName()]("close")},start:function(){this._helper().isStepOpened(),this._start()},resetStorage:function(){t.removeStorageItem(this._info.STORAGE_KEY_STEP_CONTINUE_INDEX),t.removeStorageItem(this._info.STORAGE_KEY_STEP_AUTOSTART_ONCE)}}),window.$.ptJs=function(t,e){e=(e=t.instanceName||e)?"ptJs-"+e:"ptJs",t.instanceName&&i.widget("gmks.ptJs-"+t.instanceName,i.gmks.ptJs,{});try{return i(document)[e](t)}catch(t){}}):console.log("!!! ptJsCore and/or ptJsStep is/are undefined !!! Those plugins are mandatory to run ptJs.")}($.ptJsCore,$.ptJsStep,$.ptJsThemes,jQuery,_);